import{o as e,d as t,w as a,a as l,n as s,c as n,F as r,r as o,b as i,t as u,f as c,i as m,g,s as d,h,j as M,e as x}from"./index-Bt5z_D9C.js";import{_ as f}from"./vue_plugin-vue_export-helper.BCo6x5W8.js";let b="";const y=f({props:{isDecimal:{type:Boolean,default:!0},submitButtonText:{type:String,default:"确定"},toFixed:{type:[String,Number],default:2},maxValue:{type:[String,Number],default:1e8},isCheck:{type:Boolean,default:!0}},data:()=>({fingerboardList:[{name:"1"},{name:"2"},{name:"3"},{name:"x"},{name:"4"},{name:"5"},{name:"6"},{name:"submit"},{name:"7"},{name:"8"},{name:"9"},{name:"0"},{name:"."}]}),watch:{isDecimal:{handler:function(e){e||this.fingerboardList.pop()},immediate:!0}},created(){b=""},methods:{setKeyboard(e){b=`${e}`;const t=this.setValue();this.$emit("onChange",t)},Keyboard(e){let t=b.lastIndexOf(".");switch(e){case"x":if(!b.length)return;b=b.substr(0,b.length-1),"."===b[b.length-1]&&(b=b.substr(0,b.length-1));break;case".":if(t>0&&"."===e)return;if(!b.length&&"."===e)return;b=`${b}${e}`;break;case"submit":if(!b)return;break;default:if(t>0&&b.length-t>Number(this.toFixed))return;if("0"===b[0]&&1===b.length&&"."!=e)return;if(Number(`${b}${e}`)>Number(this.maxValue))return this.$emit("onError","maxValue"),console.warn("输入不通过，大于了maxValue的限定");b=`${b}${e}`}const a=this.setValue();"submit"===e?this.isCheck?this.$emit("onSubmit",a):this.$emit("onError","isCheck"):this.$emit("onChange",a)},setValue(){let e=Number(b);e=""===b?"":e,".00"===b.slice(-3)&&(b=`${b.slice(0,-3)}`);let t={valueToLocaleString:e.toLocaleString(),valueNumber:e,valueText:this.enterAmountCapitalFn(b),enterAmount:b};return"."===b[b.length-1]&&(t.valueToLocaleString=`${t.valueToLocaleString}.`),".0"===b.slice(-2)&&(t.valueToLocaleString=`${t.valueToLocaleString}.0`),"0.0"===b&&(t.valueToLocaleString=`${b}`),t},enterAmountCapitalFn(e){let t=e.lastIndexOf("."),a="";if(t>0&&t===e.length-1&&(e=e.slice(0,t)),t>0){let l=function(e){return"零壹贰叁肆伍陆柒捌玖"[e]},s=e.slice(t+1);if(!s.length)return this.toChineseBig(e)+"点";a="点";for(let e=0;e<s.length;e++)a+=l(s[e]);e=e.substring(0,t)}return this.toChineseBig(e)+a},toChineseBig(e){var t,a=String(e),l=["拾","佰","仟","万","拾","佰","仟","亿","拾","佰","仟"],s=["@"],n=0;for(let r=a.length-1;s.unshift((t=a[r],void 0,"零壹贰叁肆伍陆柒捌玖","零壹贰叁肆伍陆柒捌玖"[t])),!(r<=0);r--)s.unshift(l[n]),n++;return s.join("").replace(/(零[仟佰拾]){1,3}/g,"零").replace(/零{2,}/g,"零").replace(/零([万亿])/g,"$1").replace(/亿万/g,"亿").replace(/零*@/g,"")}}},[["render",function(g,d,h,M,x,f){const b=c,y=m;return e(),t(y,null,{default:a((()=>[l(y,{class:"m-keyboard"},{default:a((()=>[l(y,{class:s(["fingerboard",{isDecimal_:!h.isDecimal}])},{default:a((()=>[(e(!0),n(r,null,o(x.fingerboardList,((n,r)=>(e(),t(y,{class:s(["icon_ fingerboard-item",[`fingerboard-item-${r}`,"submit"==n.name?h.isCheck?"fingerboard_item_color":"fingerboard_item_color_":""]]),"hover-class":"hover_class","hover-stay-time":50,key:r,onClick:e=>f.Keyboard(n.name)},{default:a((()=>["x"===n.name?(e(),t(y,{key:0,class:"fingerboard-img"},{default:a((()=>[l(b,{class:"img",src:"data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEzNTUgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PHBhdGggZD0iTTQxMC4xNjYgMTIxLjQ2N2g3NzUuMzIzdjc4MS4wNjZINDEwLjE2NkwxNTkuOTk1IDUxMmwyNTAuMTctMzkwLjUzM3ptNTUzLjM2MiAxOTQuNzM4Yy04LjcwNy0xMS42OTMtMjguOTkxLTExLjY5My0zNy42OTggMEw3NjkuMTU3IDQ3NC4wMjZsLTE1Ni42MjYtMTU3LjgyYy04LjcwNy0xMS42OTQtMjYuMTItOC43NzYtMzcuNzIxIDAtMTEuNjAxIDguNzc1LTExLjYwMSAyNi4zMDMgMCAzNy45OTZMNzMxLjQ4MyA1MTIgNTc0LjgxIDY2OS44MjFjLTExLjYwMSA4Ljc1My0xMS42MDEgMjYuMjggMCAzNy45NzQgOC43MyAxMS42OTMgMjYuMTIgMTEuNjkzIDM3LjcyIDBsMTU2LjY1LTE1Ny44MjEgMTU2LjY1IDE1Ny44MmM4LjcwNyAxMS42OTQgMjYuMDk3IDExLjY5NCAzNy42OTggMCAxMS42MDEtOC43NzUgMTEuNjAxLTI2LjMwMyAwLTM3Ljk5Nkw4MDYuOTAxIDUxMmwxNTYuNjczLTE1Ny44MjFjMTEuNTc4LTguNzUzIDExLjU3OC0yNi4yOCAwLTM3Ljk3NHoiIGRhdGEtc3BtLWFuY2hvci1pZD0iYTMxM3guc2VhcmNoX2luZGV4LjAuaTAuMTU2NjNhODFoUEZCc0EiIGNsYXNzPSJzZWxlY3RlZCIvPjwvc3ZnPg==",mode:"aspectFill"})])),_:1})):"submit"===n.name?(e(),t(y,{key:1},{default:a((()=>[i(u(h.submitButtonText),1)])),_:1})):(e(),t(y,{key:2},{default:a((()=>[i(u(n.name),1)])),_:2},1024))])),_:2},1032,["class","onClick"])))),128))])),_:1},8,["class"])])),_:1})])),_:1})}],["__scopeId","data-v-fca3124a"]]);const _=""+new URL("WechatIMG27-C9Dxqloq.jpg",import.meta.url).href;const N=f({data:()=>({isShake:!1,isMaxValueShake:!1,pageData:{},keyboard:{},payFlag:!1,bankCard:{},maxValue:1e4}),onLoad(){setTimeout((()=>{this.$refs.panKeyboardRef.setKeyboard(100)}),100)},computed:{checkValue(){return this.keyboard.valueNumber,!0},placeholderStyle(){const e={};e.height=`${this.height}rpx`;const{safeAreaInsets:t}=g();return e.paddingBottom=`${t.bottom}px`,e}},methods:{onSubmit(e){this.keyboard=e,console.log(e)},onChange(e){this.keyboard=e},onErrorx(){d({title:"超过最大转账金额"+this.maxValue,duration:2e3}),console.log("超过限制")}}},[["render",function(s,n,r,o,g,d){const f=m,b=c,N=x,T=(j=h("pan-keyboard"),L=y,"string"==typeof j?L:j);var j,L;return e(),t(f,null,{default:a((()=>[l(f,{class:"flex_r_c top"},{default:a((()=>[l(f,{class:"flex_r_c user"},{default:a((()=>[l(f,{class:"flex1 user-r"},{default:a((()=>[l(f,{class:"text_weight_bold text_34 user-r-title"},{default:a((()=>[i(" 转账给 pan_ (**文) ")])),_:1}),l(f,{class:"text_30 user-r-text text_colour_7"},{default:a((()=>[i(" 微信号：pan_888888 ")])),_:1})])),_:1}),l(f,{class:"user-img"},{default:a((()=>[l(b,{class:"wh_100",src:_,mode:"aspectFill"})])),_:1})])),_:1})])),_:1}),l(f,{class:"money-box"},{default:a((()=>[l(f,{class:"text_colour_3 money-box-title"},{default:a((()=>[i("转账金额")])),_:1}),l(f,{class:"flex_r_c text_50 text_weight_bold money-box-row"},{default:a((()=>[l(f,{class:"money-box-row-"},{default:a((()=>[i("￥")])),_:1}),l(f,{class:"flex1 flex_r fa_c money"},{default:a((()=>[i(u(g.keyboard.valueToLocaleString)+" ",1),l(f,{class:"cursor"})])),_:1})])),_:1}),l(f,{class:"line"}),l(f,{class:"text_28 money-box-text"},{default:a((()=>[l(N,{style:{color:"#686B8A"}},{default:a((()=>[i("添加转账说明")])),_:1})])),_:1})])),_:1}),l(f,{class:"keyboard"},{default:a((()=>[l(T,{ref:"panKeyboardRef",maxValue:g.maxValue,isCheck:d.checkValue,onOnSubmit:d.onSubmit,onOnChange:d.onChange,onOnError:d.onErrorx},null,8,["maxValue","isCheck","onOnSubmit","onOnChange","onOnError"]),l(f,{class:"placeholder",style:M(d.placeholderStyle)},null,8,["style"])])),_:1})])),_:1})}],["__scopeId","data-v-6b025780"]]);export{N as default};
